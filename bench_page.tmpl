#? stdtmpl | standard
#proc generateHTMLPage(charts: seq[Chart], creation_tstamp: string): string =
#  result = ""
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <title>Nim benchmarks</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
</head>
<body>
<style>
div.minichart {
    padding-left: 1em;
    padding-top: 3px;
    margin: 1em;
    border: 1px solid #999;
    -moz-border-radius: 5px;
    border-radius: 5px;
}
div.minichart:hover {
    border: 1px solid #999;
}
div.minichart div.minicol {
    background-color: #bbb;
    display: inline-block;
    margin: 0;
    margin-left: .02%;
    width: .25%;
}
div.minichart div.minicol {
    border: 1px solid #999;
}
div.minichart div.minicol:hover {
    border: 1px solid #444;
}
table tr th {
    font-size: 60%;
}

a.minicol {
    text-decoration: none;
    margin: 0;
    padding: 0;
}

.div.tip { display: none; }

div.tip {outline:none; }
div.tip strong {line-height:30px;}
div.tip {
    z-index:10;display:none;
    padding:14px 20px;
    margin-top:-30px;
    margin-left:28px;
    width:300px; line-height:16px;
}
div.minichart div.minicol:hover div.tip {
    display:inline;
    position:absolute;
    color:#111;
    border:1px solid #DCA;
    background:#fffAF0;
    display: block;
}
.callout {
    position:absolute;
    left:-12px;
    top:30px;border:0;
    z-index:20;
}
div.tip {
    border-radius:4px;
    box-shadow: 5px 5px 8px #CCC;
}
a.soft {
    color: #555;
    text-decoration: none;
}
a.soft:hover {
    color: #555;
}
.softtext {
    color: #555;
}
.header {
    text-align: center;
}

div#footer {
    text-align: center;
}

</style>

<p class="softtext header">Nim benchmarks execution time. Lower is better.
<br/>
Click on a bar to load the related commit on Nim devel.
<br/>
Click on the benchmark title to see the benchmark code.
</p>

#for chart in items(charts):
<h4><a class="soft" href="${chart.srcurl}">${chart.title}</a></h4>
<div class="minichart">
  #for bar in chart.bars:
  <a class="minicol" href="https://github.com/nim-lang/Nim/commit/${bar.github_commit}">
    <div class="minicol" style="height:${bar.height}px;">
      <div class="tip">
        ${bar.date}
        <br/>
        ${bar.value}
      </div>
    </div>
  </a>
  #end for
</div>
#end for


<div id="footer">
  <p class="softtext">
    <br/>
    Generated by <a class="soft" href="https://github.com/FedericoCeratto/minimize">minimize</a> on ${creation_tstamp}
  </p>
</div>

</body>
</html>
